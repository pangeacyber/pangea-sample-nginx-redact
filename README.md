# Nginx - Redact sample app

This app shows an exmaple of what an integration between nginx and pangea's
redact service would look like.

## Usage

1. Go to [pangea.cloud](https://pangea.cloud) and sign up
1. Create an org, a project, and enable the redact service
1. Go to the [redact configuration settings page](https://console.pangea.cloud/service/redact/rulesets) and enable the `US_SSN` rule under `Us Identification Numbers` section.
1. Go to the [tokens page](https://console.pangea.cloud/project/tokens) and copy your redact token.
1. Set `PANGEA_REDACT_TOKEN` env variable to your copied token
1. Clone this repo: `git clone github.com/MichaelCombs28/nginx_redact_integration_sample.git`
1. Run `docker-compose up` in the cloned root folder

### Fake SSNs generated by faker

```
curl localhost:8000
```

### Redacted SSNs

```
curl localhost:8080
```

### Cleaning Up

```
docker-compose down --rmi all
```

## FAQs

#### I'm seeing an Internal Error

This means that either you don't have `PANGEA_REDACT_TOKEN` set or your token is invalid.
